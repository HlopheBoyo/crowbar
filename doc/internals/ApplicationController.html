<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: ApplicationController
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!ApplicationController.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo;
    
    
    <span class="title">ApplicationController</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: ApplicationController
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActionController::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActionController::Base</li>
          
            <li class="next">ApplicationController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">rails/app/controllers/application_controller.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Filters added to this controller apply to all controllers in the
application. Likewise, all the methods added will be available for all
controllers.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="AttribsController.html" title="AttribsController (class)">AttribsController</a></span>, <span class='object_link'><a href="AvailableHammersController.html" title="AvailableHammersController (class)">AvailableHammersController</a></span>, <span class='object_link'><a href="BarclampsController.html" title="BarclampsController (class)">BarclampsController</a></span>, <span class='object_link'><a href="CrowbarController.html" title="CrowbarController (class)">CrowbarController</a></span>, <span class='object_link'><a href="DashboardController.html" title="DashboardController (class)">DashboardController</a></span>, <span class='object_link'><a href="DeploymentRolesController.html" title="DeploymentRolesController (class)">DeploymentRolesController</a></span>, <span class='object_link'><a href="DeploymentsController.html" title="DeploymentsController (class)">DeploymentsController</a></span>, <span class='object_link'><a href="DocsController.html" title="DocsController (class)">DocsController</a></span>, <span class='object_link'><a href="GroupsController.html" title="GroupsController (class)">GroupsController</a></span>, <span class='object_link'><a href="HammersController.html" title="HammersController (class)">HammersController</a></span>, <span class='object_link'><a href="InterfacesController.html" title="InterfacesController (class)">InterfacesController</a></span>, <span class='object_link'><a href="JigsController.html" title="JigsController (class)">JigsController</a></span>, <span class='object_link'><a href="NetworkRangesController.html" title="NetworkRangesController (class)">NetworkRangesController</a></span>, <span class='object_link'><a href="NetworkRoutersController.html" title="NetworkRoutersController (class)">NetworkRoutersController</a></span>, <span class='object_link'><a href="NetworksController.html" title="NetworksController (class)">NetworksController</a></span>, <span class='object_link'><a href="NodeRolesController.html" title="NodeRolesController (class)">NodeRolesController</a></span>, <span class='object_link'><a href="NodesController.html" title="NodesController (class)">NodesController</a></span>, <span class='object_link'><a href="RolesController.html" title="RolesController (class)">RolesController</a></span>, <span class='object_link'><a href="RunsController.html" title="RunsController (class)">RunsController</a></span>, <span class='object_link'><a href="Scaffolds/AttribsController.html" title="Scaffolds::AttribsController (class)">Scaffolds::AttribsController</a></span>, <span class='object_link'><a href="Scaffolds/AvailableHammersController.html" title="Scaffolds::AvailableHammersController (class)">Scaffolds::AvailableHammersController</a></span>, <span class='object_link'><a href="Scaffolds/BarclampsController.html" title="Scaffolds::BarclampsController (class)">Scaffolds::BarclampsController</a></span>, <span class='object_link'><a href="Scaffolds/DeploymentRolesController.html" title="Scaffolds::DeploymentRolesController (class)">Scaffolds::DeploymentRolesController</a></span>, <span class='object_link'><a href="Scaffolds/DeploymentsController.html" title="Scaffolds::DeploymentsController (class)">Scaffolds::DeploymentsController</a></span>, <span class='object_link'><a href="Scaffolds/DocsController.html" title="Scaffolds::DocsController (class)">Scaffolds::DocsController</a></span>, <span class='object_link'><a href="Scaffolds/GroupsController.html" title="Scaffolds::GroupsController (class)">Scaffolds::GroupsController</a></span>, <span class='object_link'><a href="Scaffolds/HammersController.html" title="Scaffolds::HammersController (class)">Scaffolds::HammersController</a></span>, <span class='object_link'><a href="Scaffolds/JigsController.html" title="Scaffolds::JigsController (class)">Scaffolds::JigsController</a></span>, <span class='object_link'><a href="Scaffolds/NavsController.html" title="Scaffolds::NavsController (class)">Scaffolds::NavsController</a></span>, <span class='object_link'><a href="Scaffolds/NetworkAllocationsController.html" title="Scaffolds::NetworkAllocationsController (class)">Scaffolds::NetworkAllocationsController</a></span>, <span class='object_link'><a href="Scaffolds/NetworkRangesController.html" title="Scaffolds::NetworkRangesController (class)">Scaffolds::NetworkRangesController</a></span>, <span class='object_link'><a href="Scaffolds/NetworkRoutersController.html" title="Scaffolds::NetworkRoutersController (class)">Scaffolds::NetworkRoutersController</a></span>, <span class='object_link'><a href="Scaffolds/NetworksController.html" title="Scaffolds::NetworksController (class)">Scaffolds::NetworksController</a></span>, <span class='object_link'><a href="Scaffolds/NodeRoleAttribLinksController.html" title="Scaffolds::NodeRoleAttribLinksController (class)">Scaffolds::NodeRoleAttribLinksController</a></span>, <span class='object_link'><a href="Scaffolds/NodeRolesController.html" title="Scaffolds::NodeRolesController (class)">Scaffolds::NodeRolesController</a></span>, <span class='object_link'><a href="Scaffolds/NodesController.html" title="Scaffolds::NodesController (class)">Scaffolds::NodesController</a></span>, <span class='object_link'><a href="Scaffolds/RoleRequiresController.html" title="Scaffolds::RoleRequiresController (class)">Scaffolds::RoleRequiresController</a></span>, <span class='object_link'><a href="Scaffolds/RolesController.html" title="Scaffolds::RolesController (class)">Scaffolds::RolesController</a></span>, <span class='object_link'><a href="Scaffolds/RunsController.html" title="Scaffolds::RunsController (class)">Scaffolds::RunsController</a></span>, <span class='object_link'><a href="SupportController.html" title="SupportController (class)">SupportController</a></span>, <span class='object_link'><a href="UsersController.html" title="UsersController (class)">UsersController</a></span></p>
</div>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_help-class_method" title="add_help (class method)">+ (Object) <strong>add_help</strong>(method, args = [], http_method = [:get]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Class method for adding method-specific help/API information for each
method we are going to expose to the CLI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_layout-class_method" title="set_layout (class method)">+ (Object) <strong>set_layout</strong>(template = &quot;application&quot;) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>See ActionController::RequestForgeryProtection for details.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_array-instance_method" title="#api_array (instance method)">- (Object) <strong>api_array</strong>(json) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>formats API json output  used for json results output that is not mapped to
a Crowbar model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_delete-instance_method" title="#api_delete (instance method)">- (Object) <strong>api_delete</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>formats API for delete using this makes it easier to update the API format
for all models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_index-instance_method" title="#api_index (instance method)">- (Object) <strong>api_index</strong>(type, list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>formats API json output using this makes it easier to update the API format
for all models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_not_found-instance_method" title="#api_not_found (instance method)">- (Object) <strong>api_not_found</strong>(e) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_not_implemented-instance_method" title="#api_not_implemented (instance method)">- (Object) <strong>api_not_implemented</strong>(object, attempted, suggestion) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>501 for actions that are not supported.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_not_supported-instance_method" title="#api_not_supported (instance method)">- (Object) <strong>api_not_supported</strong>(verb, object) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_result-instance_method" title="#api_result (instance method)">- (Object) <strong>api_result</strong>(json) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>formats API json output  used for json output that is not mapped to a
Crowbar model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_show-instance_method" title="#api_show (instance method)">- (Object) <strong>api_show</strong>(o, type_override = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>formats API json for output using this makes it easier to update the API
format for all models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cb_content_type-instance_method" title="#cb_content_type (instance method)">- (Object) <strong>cb_content_type</strong>(type, form = &quot;list&quot;, type_override = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>creates the content type for a consistent API.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#help-instance_method" title="#help (instance method)">- (Object) <strong>help</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_ajax%3F-instance_method" title="#is_ajax? (instance method)">- (Boolean) <strong>is_ajax?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>needed by Devise auth.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ui_not_supported-instance_method" title="#ui_not_supported (instance method)">- (Object) <strong>ui_not_supported</strong>(verb, object) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_help-class_method">
  
    + (<tt>Object</tt>) <strong>add_help</strong>(method, args = [], http_method = [:get]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Class method for adding method-specific help/API information for each
method we are going to expose to the CLI. Since it is a class method, it
will not be bothered by the Rails trying to expose it to everything else,
and we can call it to build up our help contents at class creation time
instead of instance  creation time, so there is minimal overhead. Since we
are just storing an arrray of singleton hashes, adding more user-oriented
stuff (descriptions, exmaples, etc.) should not be a problem.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 46</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_add_help'>add_help</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span><span class='id identifier rubyid_args'>args</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_http_method'>http_method</span><span class='op'>=</span><span class='lbracket'>[</span><span class='symbol'>:get</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='comment'># if we were passed multiple http_methods, build an entry for each.
</span>  <span class='comment'># This assumes that they all take the same parameters, if they do not
</span>  <span class='comment'># you should call add_help for each different set of parameters that the
</span>  <span class='comment'># method/http_method combo can take.
</span>  <span class='id identifier rubyid_http_method'>http_method</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_contents'>help_contents</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_contents'>help_contents</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbrace'>{</span>
      <span class='id identifier rubyid_method'>method</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
                                           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>args</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span>
                                           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http_method</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_m'>m</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_layout-class_method">
  
    + (<tt>Object</tt>) <strong>set_layout</strong>(template = &quot;application&quot;) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>See ActionController::RequestForgeryProtection for details</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67
68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 65</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_layout'>set_layout</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_layout'>layout</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_controller'>controller</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_controller'>controller</span><span class='period'>.</span><span class='id identifier rubyid_is_ajax?'>is_ajax?</span>
      <span class='kw'>return</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_template'>template</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="api_array-instance_method">
  
    - (<tt>Object</tt>) <strong>api_array</strong>(json) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>formats API json output  used for json results output that is not mapped to
a Crowbar model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_array'>api_array</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span><span class='op'>=&gt;</span><span class='id identifier rubyid_json'>json</span><span class='comma'>,</span> <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>array</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_delete-instance_method">
  
    - (<tt>Object</tt>) <strong>api_delete</strong>(o) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>formats API for delete using this makes it easier to update the API format
for all models</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_delete'>api_delete</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='symbol'>:message</span> <span class='op'>=&gt;</span> <span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>api.deleted</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:obj</span><span class='op'>=&gt;</span><span class='id identifier rubyid_type2name'>type2name</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>empty</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_index-instance_method">
  
    - (<tt>Object</tt>) <strong>api_index</strong>(type, list) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>formats API json output using this makes it easier to update the API format
for all models</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_index'>api_index</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_list'>list</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span><span class='op'>=&gt;</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_not_found-instance_method">
  
    - (<tt>Object</tt>) <strong>api_not_found</strong>(e) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87
88
89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_not_found'>api_not_found</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='symbol'>:status</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>404</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_crowbar_key'>crowbar_key</span>
    <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span><span class='op'>=</span><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>api.not_found</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_crowbar_key'>crowbar_key</span><span class='comma'>,</span> <span class='symbol'>:type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_type2name'>type2name</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_crowbar_model'>crowbar_model</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
    <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='symbol'>:backtrace</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_json'>json</span><span class='comma'>,</span>
    <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_crowbar_key'>crowbar_key</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:not_found</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_not_implemented-instance_method">
  
    - (<tt>Object</tt>) <strong>api_not_implemented</strong>(object, attempted, suggestion) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>501 for actions that are not supported</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_not_implemented'>api_not_implemented</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_attempted'>attempted</span><span class='comma'>,</span> <span class='id identifier rubyid_suggestion'>suggestion</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='symbol'>:message</span> <span class='op'>=&gt;</span> <span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>api.not_implemented</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:requested</span><span class='op'>=&gt;</span><span class='id identifier rubyid_attempted'>attempted</span><span class='comma'>,</span> <span class='symbol'>:suggestion</span><span class='op'>=&gt;</span><span class='id identifier rubyid_suggestion'>suggestion</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='int'>501</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='int'>501</span><span class='comma'>,</span>
    <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_not_supported-instance_method">
  
    - (<tt>Object</tt>) <strong>api_not_supported</strong>(verb, object) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_not_supported'>api_not_supported</span><span class='lparen'>(</span><span class='id identifier rubyid_verb'>verb</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='symbol'>:message</span> <span class='op'>=&gt;</span> <span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>api.not_supported</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:verb</span><span class='op'>=&gt;</span><span class='id identifier rubyid_verb'>verb</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='comma'>,</span> <span class='symbol'>:obj</span><span class='op'>=&gt;</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='int'>405</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='int'>405</span><span class='comma'>,</span>
    <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_result-instance_method">
  
    - (<tt>Object</tt>) <strong>api_result</strong>(json) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>formats API json output  used for json output that is not mapped to a
Crowbar model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_result'>api_result</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='label'>json:</span> <span class='id identifier rubyid_json'>json</span><span class='comma'>,</span> <span class='label'>content_type:</span> <span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>result</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_show-instance_method">
  
    - (<tt>Object</tt>) <strong>api_show</strong>(o, type_override = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>formats API json for output using this makes it easier to update the API
format for all models</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_show'>api_show</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_type_override'>type_override</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='symbol'>:json</span><span class='op'>=&gt;</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>obj</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_type_override'>type_override</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cb_content_type-instance_method">
  
    - (<tt>Object</tt>) <strong>cb_content_type</strong>(type, form = &quot;list&quot;, type_override = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>creates the content type for a consistent API</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_form'>form</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_type_override'>type_override</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_type_override'>type_override</span> <span class='op'>||</span> <span class='id identifier rubyid_type2name'>type2name</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/vnd.crowbar.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_form'>form</span><span class='embexpr_end'>}</span><span class='tstring_content'>+json; version=2.0</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="help-instance_method">
  
    - (<tt>Object</tt>) <strong>help</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_help'>help</span>
  <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_controller_name'>controller_name</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_contents'>help_contents</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='comment'># sigh, we cannot resolve url_for at clqass definition time.
</span>        <span class='comment'># I suppose we have to do it at runtime.
</span>        <span class='id identifier rubyid_url'>url</span><span class='op'>=</span><span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_unescape'>unescape</span><span class='lparen'>(</span><span class='id identifier rubyid_url_for'>url_for</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span>
                      <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_controller_name'>controller_name</span><span class='comma'>,</span>

        <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>args</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
          <span class='id identifier rubyid_acc'>acc</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
        <span class='rbrace'>}</span>
        <span class='rparen'>)</span>
        <span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_url'>url</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='rbrace'>}</span>
      <span class='id identifier rubyid_res'>res</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_ajax?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_ajax?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>needed by Devise auth</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_ajax?'>is_ajax?</span>
  <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_xhr?'>xhr?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ui_not_supported-instance_method">
  
    - (<tt>Object</tt>) <strong>ui_not_supported</strong>(verb, object) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rails/app/controllers/application_controller.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ui_not_supported'>ui_not_supported</span><span class='lparen'>(</span><span class='id identifier rubyid_verb'>verb</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span> <span class='symbol'>:text</span><span class='op'>=&gt;</span><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ui.not_supported</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:verb</span><span class='op'>=&gt;</span><span class='id identifier rubyid_verb'>verb</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='comma'>,</span> <span class='symbol'>:obj</span><span class='op'>=&gt;</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='int'>405</span><span class='comma'>,</span>
    <span class='symbol'>:content_type</span><span class='op'>=&gt;</span><span class='id identifier rubyid_cb_content_type'>cb_content_type</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Mar 13 01:25:15 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>